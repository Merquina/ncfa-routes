<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Testing</title>
    <link rel="stylesheet" href="css/app.css">
    <style>
        .test-section {
            margin: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-section h3 {
            margin-top: 0;
            color: #007bff;
        }
    </style>
</head>
<body>
    <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
        <h1>SPFM Routes - Component Testing</h1>
        
        <div class="test-section">
            <h3>Inventory Component</h3>
            <inventory-component 
                small-boxes="42"
                large-boxes="18"
                last-updated="12/31/2024, 2:30:00 PM"
                updated-by="Test User">
            </inventory-component>
        </div>

        <div class="test-section">
            <h3>Worker Component</h3>
            <worker-component id="testWorkers"></worker-component>
        </div>

        <div class="test-section">
            <h3>Assignment Card</h3>
            <assignment-card id="testAssignment"></assignment-card>
        </div>

        <div class="test-section">
            <h3>Date Cards</h3>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <date-card id="testDate1"></date-card>
                <date-card id="testDate2" variant="compact"></date-card>
            </div>
        </div>
    </div>

    <script type="module" src="src/components/index.js"></script>
    <script>
        // Wait for components to load
        setTimeout(() => {
            // Test Worker Component
            const workerComponent = document.getElementById('testWorkers');
            workerComponent.setWorkers(['Samuel', 'Emmanuel', 'Irmydel', 'Tess', 'Volunteer']);
            workerComponent.setWorkerIcons({
                Samuel: "ðŸ‹",
                Emmanuel: "ðŸ¦",
                Irmydel: "ðŸ¸",
                Tess: "ðŸŒŸ",
                Volunteer: "ðŸ‘¤"
            });

            // Test Assignment Card
            const assignmentCard = document.getElementById('testAssignment');
            assignmentCard.setAssignment({
                worker: 'Samuel',
                date: '2024-01-15',
                market: 'Downtown Farmers Market',
                route: 'Route A',
                vehicle: 'Truck #1',
                stops: [
                    'Green Valley Farm',
                    'Sunrise Organic Farm',
                    'Mountain View Produce'
                ]
            });

            // Test Date Cards
            const dateCard1 = document.getElementById('testDate1');
            dateCard1.setDate({
                date: '2024-12-31',
                market: 'New Year Market',
                routes: [
                    { worker: 'Samuel', route: 'Route A' },
                    { worker: 'Emmanuel', route: 'Route B' }
                ]
            });

            const dateCard2 = document.getElementById('testDate2');
            dateCard2.setDate({
                date: '2024-01-15',
                market: 'Past Market',
                routes: [
                    { worker: 'Tess', route: 'Recovery Route' }
                ]
            });

            // Add event listeners for testing
            workerComponent.addEventListener('worker-selected', (e) => {
                console.log('Worker selected:', e.detail.worker);
                alert(`Selected worker: ${e.detail.worker}`);
            });

            dateCard1.addEventListener('date-selected', (e) => {
                console.log('Date selected:', e.detail);
                alert(`Selected date: ${e.detail.date}`);
            });

            console.log('âœ… All components loaded and configured');
        }, 100);
    </script>
</body>
</html>